# 逻辑

1. 新东日中医的路由控制流程：`未填写登录信息 -> 检查是否有用户信息 -> 没有就跳到登录页 -> 有就根据用户信息渲染左侧导航栏 -> 当输入某个地址时 -> 判断用户类型 -> 有权限就跳转到目标页 -> 没有就跳转到首页（判断的路由放在一个数组里进行遍历匹配）`

2. 气泡语音逻辑方面是调用微信的 SDK，U I 则是一张图根据情况进行背景定位

3. 如果不想保存登录状态的信息，那么信息就不要保存在 localStorage，而是保存在 sessionStorage，后者的信息在关闭页面后将被删除

4. 聊天记录加载保持加载后视图位置不变：基本思路就是获得高度差，然后利用这个差值进行相应操作

5. 实时数据的情况下，滑动到底部时数据加载重复的问题：[方案1](https://segmentfault.com/q/1010000007247723) [方案2](https://segmentfault.com/q/1010000002654914)

6. 某页面，有搜索和跳转到打印的功能，搜索条件为双向数据绑定，初始加载时条件为空，输出所有结果。此时如果只输入条件，不搜索，当前页结果还是显示所有结果，但按下跳转到打印页时，由于传过去的是双向绑定的变量，此时打印页请求的条件为这个变量，导致输出的结果不同。解决方法是设置变量A、B，A是双向数据绑定，点击搜索时让B = A，请求时用B变量，以达到双向绑定的数据和搜索时的数据分离。

7. 对于一些重要操作，比如支付等，务必使用防抖机制！